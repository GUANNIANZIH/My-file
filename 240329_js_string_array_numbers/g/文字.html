<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // // 1.trim:單純移除文字前後空白、中間空白不移除(例如:使用者輸入表單)
        let text ='   AbC def gHi   '
        // console.log(text)
        // text = text.trim()  // *要把原來變數改變、注意後面要()
        // console.log(text)

        // // 2.toUppercase: 轉大寫
        // text = text.toUpperCase()
        // console.log(text)

        // // 3.toLowerrcase: 轉小寫
        // text = text.toLowerCase()
        // console.log(text)

        // 4.js 語法串聯
        text = text.trim().toUpperCase().toLowerCase()
        console.log(text)

        // 5. includes (尋找文字,從第幾個開始):
        let text2 = '外賣 咖哩拌飯 咖哩烏冬'
        // 檢查是否有包含尋找文字，回傳 boolean
        // 第二個參數為選填，預設是0
        // let includesCurry = text2.includes('咖哩')
        let includesCurry = text2.includes('咖哩' , 3) //從第9字開始去找、空白?
        console.log(includesCurry)


        // 6.indexOf (尋找文字,從第幾個開始):
        // 檢查是否有包含尋找文字，回傳第一個符合的索引， -1 代表找不到
        // 第二個參數為選填，預設是0
        // let includesCurry = text2.includes('咖哩')
        let indexCurry = text2.indexOf('咖哩') //*前面先設一個變數 indexCurry
        console.log(indexCurry)


        // 7.match、8.matchALL(例如:用來驗證信箱、網址)/ (Regular Expression)
        // 正規表達式 (Regular Expression)，是一種用來描述字串符合某個語法規則的模型 (pattern)
        // 可以用來做一坨文字的搜尋、比對、萃取、替代、轉換、驗證

        // 7 .match (正則表達式Regex)
        // 符合的結果用陣列回傳
        // g = 尋找多個結果(有g資訊以陣列少、沒g資訊比較多)
        // 沒找到回傳 null
        // let text2 = '外賣 咖哩拌飯 咖哩烏冬'
        let matchCurry = text2.match(/咖哩/)   //g: 把符合的結果找出來
        console.log(matchCurry)

        // 8 .matchALL
        //  .matchALL (正則表達式Regex)
        // 一定要使用 g
        // 結果會是 RegSringIterator 只能用迴圈取資料
        let matchALLCurry = text2.matchAll(/咖哩/g)
        console.log(matchALLCurry) //沒辦法用(matchALLCurry)[0]去取，會讀全部，且依定要用for
        for(const match of matchALLCurry){
            console.log(match)
        }

        // 困難!!!
        // 沒有群組的:
        // 可以用在驗證信箱:(web: regular expressions)
        let email = 'aaaa@gmail.com'
        let emailMatch = email.match(/^[0-9a-z]+@[0-9a-z]+\.[0-9a-z]+$/g)
        console.log(emailMatch)

        // 有群組的:
        const emailRegexGroup = /^([0-9a-z])+@([0-9a-z])+\.([0-9a-z])+$/g
        let emaiMatchAllGroup = email.matchAll(emailRegexGroup)
        for (const match of emaiMatchAllGroup){
            // 0: 'aaa@gmail.com'
            // 1: 'aaaa'
            // 2: 'gmail'
            // 3: 'com'
            // group: undefined
            // index: 0
            console.log(match)
        }

        // 用群組的方式找:
        // Regex () 群組找到的東西可以用 $數字($1) 代表群組抓到的東西
        let emailReplaceGroup = email.replace(emailRegexGroup,'帳號是 $1，網域是 $2.$3')
        console.log(emailReplaceGroup)

        // 用?<>設定群組名稱
        const emailRegexGroup2 = /^([?<account>0-9a-z])+@([?<domain>0-9a-z])+\.(?<tld>[0-9a-z])+$/g
        let emaiMatchAllGroup2 = email.matchAll(emailRegexGroup2)
        for (const match of emaiMatchAllGroup2){
            // 0: 'aaa@gmail.com'
            // 1: 'aaaa'
            // 2: 'gmail'
            // 3: 'com'
            // group: undefined
            // index: 0
            console.log(match)
        }

        // Regex () 群組找到的東西可以用 $數字($1) 代表群組抓到的東西
        let emailReplaceGroup2 = email.replace(emailRegexGroup2,'帳號是 $<account>，網域是 $(domain).$<tld>')
        console.log(emailReplaceGroup2)


        // 9 .replace(搜尋文字，取代文字)
        // 只會取代第一個符合的文字
        // *let text2 = '外賣 咖哩拌飯 咖哩烏冬'
        let replaceCurry = text2.replace('咖哩','三色豆') //咖哩變成三色豆
        console.log(replaceCurry)
        // .replace(搜尋文字，取代文字) 
        // 如果 regex 有設定 g 就會全部取代
        let replaceCurry2 = text2.replace(/咖哩/g,'三色豆') //所有的咖哩變成三色豆
        console.log(replaceCurry2)


        // 10.文字切割: (注意有索引0)
        let text3 = "abcdefg"
        // 索引:     0123456
        // (1).substr(開始位置 , 取的長度)
        // 位置可以放負數，代表倒數， -1 是倒數第一個字
        // 長度不寫會直接到結尾
        console.log(text3.substr(3,2)) //de
        console.log(text3.substr(3)) //defg
        console.log(text3.substr(-5,2)) //cd (倒過來數不用算索引0)
        // text3.substr(-3,2)
        // text3.lenth = 7
        // -3 => 7-3 => 4
        // text3.substr(4,2)



        //(2) .substring(開始位置 , 結束位置)
        // 不能寫負數、*不包含結束位置*、結束位置不寫會直接取到結尾
        console.log(text3.substring(2,6)) //cdef

        //(3) slice(開始位置,結束位置)
        // 位置可以放負數、*不包含結束位置*、結束位置不寫會直接取到結尾
        console.log(text3.slice(2,6)) //cdef
        console.log(text3.slice(-4,-2)) //de


        // 11. 數字轉整數、
        const num1 = '123456.789'
        // parseInt 無條件捨去轉整數 (int 整數)
        console.log(parseInt(num1))
        // parseFloat 轉成小數
        console.log(parseFloat(num1))
        // 運算子轉乘數字
        console.log(num1 * 1)
        // 用 number 轉乘數字
        console.log(Number(num1))
        

        // 12. (NaN)
        // 偵測是否為 NaN: NaN 不等於（==、!=、===、!==）任何值，包括 NaN 本身
        // 請使用 Number.isNaN() (en-US) 或 isNaN() 來確認某個數值是否為 NaN
        const num2 = 'abc'
        console.log(parseInt(num2))    //NaN
        console.log(parseFloat(num2))  //NaN
        console.log(num2 * 1)          //NaN
        console.log(num2 * 1 === NaN)  //false
        // 文字硬轉成數字
        console.log(isNaN(num2 * 1))   //ture


        // 13 .split 把文字切割成陣列 (例如:做csv的格式(excel)處理一堆逗號，去得到特定位置的東西)
        //  .split(文字)
        //  以文字分割成陣列
        let text4 = 'aaa,bbb,ccc'
        console.log(text4.split(',')) //,

        // .split 將很長串的字串分割並陣列 (用法: 要如何得知很長字串的圖片副檔名 (.jpg、.png...))
        let filename = 'asdlhhh.asasddasda.refssf.hudsfds.jpg'
        let filenameArray = filename.split('.') //'.'
        // (5) ['asdlhhh', 'asasddasda', 'refssf', 'hudsfds', 'jpg']
        console.log(filenameArray)
        console.log(filenameArray[filenameArray.length-1]) 
        // Array.at 方法接收一個 integer 作為參數，並會回傳陣列中對應索引的值，其可以傳入正數，亦可傳入負數
        console.log(filenameArray.at(-2)) 
        console.log(filename.split('.').at(-1))




    </script>
</body>
</html>